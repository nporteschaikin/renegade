@import 'core/*';

#header {
	@extend %position-fixed;
	top: 0;
	width: 100%;
	padding: {
		top: $margin-b;
		left: $margin-b;
		right: $margin-b;
	}
	> div {
		@extend %inline-block-parent;
		position: relative;
	}
	nav {
		@extend %nav-x;
		vertical: { align: top; }
	}
	ul {
		height: $header-height;
	}
	li {
		@extend %no-transition;
		width: $header-height;
		height: 100%;
		position: relative;
		margin: {
			right: $margin-a;
		}
		&.current {
			a {
				&:first-child {
					opacity: 1;
					filter: alpha(opacity=100);
				}
			}
		}
		&.menu {
			ul {
				display: none;
				position: absolute;
				z: {
					index: 5;
				}
			}
			&:hover {
				ul {
					display: block;
				}
			}
		}
	}
	a {
		display: block;
		&:first-child {
			@include prefixer(border-radius, $header-height/2);
			width: 100%;
			height: 100%;
		}
		+ a {
			@include prefixer(border-radius, ($header-height*.25)/2);
			position: absolute;
			top: -(($header-height*.25)/2);
			right: -(($header-height*.25)/2);
			width: $header-height*.25;
			height: $header-height*.25;
		}
		text: {
			indent: -9999px;
		}
		white: {
			space: nowrap;
		}
	}
	nav {
		&:first-child {
			a {
				background: $concrete;
			}
		}
		+ nav {
			a {
				&:first-child {
					background: $amethyst;
					opacity: 0.5;
					filter: alpha(opacity=50);
				}
				+ a {
					background: red;
				}
			}
			+ nav {
				position: absolute;
				right: 0;
				a {
					&:first-child {
						opacity: 1;
						filter: alpha(opacity=100);
						background: $concrete;
					}
				}
			}
		}
	}
}